"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6101],{3446:(e,t,r)=>{r.d(t,{l:()=>i});var n=r(98816);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"evt",t=arguments.length>1?arguments[1]:void 0,r=Date.now().toString(),i=(0,n.$C)(8),o="";return t&&(o=function(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r);return Math.abs(t).toString(16).padStart(8,"0").substring(0,8)}(JSON.stringify(t))),o?"".concat(e,"_").concat(r,"_").concat(i,"_").concat(o):"".concat(e,"_").concat(r,"_").concat(i)}},5266:(e,t,r)=>{r.d(t,{N:()=>n.NW});var n=r(49432)},17149:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(72695);let i=e=>Array.isArray(e)&&e.length>0?e.map(i):e&&"string"==typeof e?(0,n.qQ)(e,"en"):""},44352:(e,t,r)=>{r.d(t,{A:()=>i});let n=new Map,i={getItem(e){try{if(window.localStorage)return window.localStorage.getItem(e)}catch(e){console.warn("localStorage is not available, falling back to in-memory storage.")}return n.get(e)||null},setItem(e,t){try{if(window.localStorage){window.localStorage.setItem(e,t);return}}catch(e){console.warn("localStorage is not available, falling back to in-memory storage.")}n.set(e,t)},removeItem(e){try{if(window.localStorage){window.localStorage.removeItem(e);return}}catch(e){console.warn("localStorage is not available, falling back to in-memory storage.")}n.delete(e)}}},47014:(e,t,r)=>{r.d(t,{getTimezoneName:()=>i});var n=r(78615);let i=()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;return(0,n.g)(e)}},48879:(e,t,r)=>{r.d(t,{LS:()=>d,Oy:()=>m,Sr:()=>u,eB:()=>w,l4:()=>s,og:()=>c,qS:()=>v,rh:()=>h,yr:()=>l});var n=r(60785),i=r(98816),o=r(65463);let a=["invalid","spamtrap","abuse","do_not_mail"],l=async e=>{if(!e)return null;let t=await fetch("/api/validate-email/",{method:"POST",body:JSON.stringify({email:e})}).then(g).catch(f);return t&&!a.includes(t.status)?{zb_domain:(null==t?void 0:t.domain)||"",zb_free_email:null==t?void 0:t.free_email,zb_smtp_provider:(null==t?void 0:t.smtp_provider)||"",zb_account:(null==t?void 0:t.account)||"",zb_status:(null==t?void 0:t.status)||"",zb_sub_status:(null==t?void 0:t.sub_status)||""}:null},s=async e=>{let{userAction:t,locale:r,rentaResponse:o,formTitle:a,formId:l,filteredFormValues:s,formLogData:d,message:c,initialFormConfig:u}=e,m=1e3*Date.now(),_=(0,i.cw)(),p=(0,n.V2)(),w=_+window.location.pathname,v={ga:p,language_form:r,fr_form_id:l,hostname:_,domain:_,fr_form_title:a,fr_source_url:w,path:window.location.pathname,form_action:t,form_values:s,form_data:d,..."Form submitted success"===t&&u&&{initial_form_config:u}},h=null!=c?c:"Gravity forms logs";return fetch("/api/log/",{method:"POST",body:JSON.stringify(o?{attributes:v,timestamp:m,message:h,"RENTA response":o}:{attributes:v,timestamp:m,message:h})}).then(g).catch(f)},d=e=>{let{type:t,id:r,formId:n}=e;return"form"+n+t+r},c=e=>("hidden"===e.type?e.label:e.adminLabel)||d(e),u=e=>{let{conditionalLogic:t,formValuesById:r}=e;if(!t||"string"==typeof t)return!0;let{rules:n,enabled:o,logicType:a}=null!=t?t:{};return!o||null==n||!n.length||("all"===a?n.every(e=>(0,i.T9)(e,r)):"any"===a&&n.some(e=>(0,i.T9)(e,r)))};function m(e){var t;if(!e)return{iconName:void 0,text:e};let r=null===(t=String(e))||void 0===t?void 0:t.match(/\$\$(\w+)/);return r?{iconName:r[1],text:e.replace(r[0],"").trim()}:{iconName:void 0,text:e}}let f=()=>null,g=e=>e.ok?e.json():null,_=async(e,t)=>{let r=await fetch("/api/country-codes"),n=await r.json();return null!=n&&!!n.length&&n.some(r=>{var n;return null!==(n=null==t?void 0:t.startsWith(r.phoneCode))&&void 0!==n?n:r.code===e})},p={"0124H000000kMjPQAU":"012580000006MylAAE","0124H000000kMjOQAU":"0124I0000006TSMQA2","0124H000000kMjQQAU":"012580000005hxwAAA","0124H000000kMjLQAU":"012580000005hpRAAQ","0124H000000kMjCQAU":"01258000000wntkAAA","0124H000000kMjGQAU":"012580000005hteAAA","0124H000000kMjEQAU":"0124I000000Fa7VQAS","0124H000000kMjNQAU":"012580000005hy1AAA"},w=async(e,t,r,n)=>(t&&await _(r,n)&&(t=p[t]||t,e="en"),{sfRecordTypeCode:t,locale:e}),v=async(e,t,r,o,a,l,s,d,c)=>{let u=(0,i.$C)(32),m=(0,i.Ri)("platform")||"",f=await (0,n.EI)(),g=e.user_phone?String(e.user_phone):"",_=e.sf_record_type_code?String(e.sf_record_type_code):"";if("ru"===r&&_){let e=Object.keys(p).find(e=>p[e]===_);e&&(_=e)}let v=Object.fromEntries(Object.entries(e).filter(e=>{let[t,r]=e;return!(t.includes("pr_children_")&&"0"===r)})),h=r;if(_){let e=await w(r,_,f.ipCountryCode||"",g);_=e.sfRecordTypeCode,h=e.locale}return{...{fr_form_id:t,...v,...o||{},...f,sf_record_type_code:_,user_Lastname:v.kyc_last_name_c?String(v.kyc_last_name_c):v.user_Lastname?String(v.user_Lastname):"-",fr_form_title:t,fr_date_created:s,ga_cookie_id:l,device_type:(0,i.Ri)("dtype")||"-",fr_source_url:a,user_agent:navigator.userAgent,language_form:r,filter_locale:h,requestId:u,platform:m,sf_status:"New",sf_currency_iso_code:"USD",domain:window.location.hostname,timezone:d,sf_timezone:c}}},h=async(e,t,r,a,l,s,d)=>{var c;let u=(0,i.Ri)("_fbp"),{localStorage:m,cookies:f}=y(),g=await (0,n.EI)();return{timestamp:s,context:{ads:d,page:{path:window.location.pathname,referrer:document.referrer,title:document.title,url:t,location:e,hostname:origin},device:{deviceDocEncoding:"UTF-8",userAgent:navigator.userAgent,deviceScreenWidth:window.screen.width,deviceScreenHeight:window.screen.height,deviceViewPortWidth:window.innerWidth,deviceViewPortHeight:window.innerHeight,deviceIp:null!==(c=null==g?void 0:g.fr_ip)&&void 0!==c?c:""},cookies:{ga:a,ym:null,fbp:null!=u?u:null,fbc:null,localStorageAccessible:m,cookiesAccessible:f},library:{name:"renta.js",version:"2.0"},protocols:{environment:"prod",eventVersion:1.1}},properties:l,name:"Form submitted",messageId:(0,i.$C)(32),anonymousId:r,type:"track",writeKey:o.jz||"",userId:null,sentAt:s}},y=()=>{let e="__test__",t=!1,r=!1;try{window.localStorage&&(window.localStorage.setItem(e,e),window.localStorage.removeItem(e),t=!0)}catch(e){e instanceof DOMException?console.warn("localStorage not accessible:",e.message):console.warn("localStorage check failed:",e)}try{"undefined"!=typeof document&&(document.cookie="".concat(e,"=test; path=/"),r=document.cookie.includes("".concat(e,"=test")),document.cookie="".concat(e,"=; Max-Age=-99999999; path=/"))}catch(e){console.warn("Cookie check failed:",e instanceof Error?e.message:"Unknown error")}return{localStorage:t,cookies:r}}},49432:(e,t,r)=>{r.d(t,{NW:()=>f,vA:()=>p,ES:()=>v,Gq:()=>w});var n=r(98816),i=r(60785),o=r(44352),a=r(77836),l=r(65463);let s=e=>{if(e instanceof Error)return e.message;if("object"==typeof e&&null!==e)try{return JSON.stringify(e,null,2)}catch(e){}return String(e)},d=e=>e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:"object"==typeof e&&null!==e?JSON.parse(JSON.stringify(e)):String(e),c=(e,t)=>{var r;let n=d(e),i={error:n,eventName:t.name,eventType:(null===(r=t.properties)||void 0===r?void 0:r.fr_form_type)||"Unknown",timestamp:Date.now()};fetch("/api/log/",{method:"POST",body:JSON.stringify({attributes:t,message:"Amplitude tracking error",errorMessage:"object"==typeof n?JSON.stringify(n,null,2):n,details:i})})},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise(t=>{var r,n;if((null===(r=window)||void 0===r?void 0:r.amplitude)&&"function"==typeof(null===(n=window.amplitude)||void 0===n?void 0:n.getDeviceId)){t(!0);return}let i=Date.now(),o=setInterval(()=>{var r,n;(null===(r=window)||void 0===r?void 0:r.amplitude)&&"function"==typeof(null===(n=window.amplitude)||void 0===n?void 0:n.getDeviceId)?(clearInterval(o),t(!0)):Date.now()-i>e&&(clearInterval(o),t(!1))},100)})},m=e=>{let t=e.properties||{},r={...t,site_domain:function(e){let t=e.split(".");return t.length>=2?t.slice(-2).join("."):e}(window.location.hostname),site_hostname:window.location.hostname,site_language:t.language,page_url:window.location.href};return delete r.language,e.name.includes("CTA")&&(delete r.ipcountry,delete r.ipcity,delete r.country,delete r.city,"CTA Block View"===e.name&&(delete r.block_element_click,delete r.element_click_url)),r},f=()=>{var e,t;let r="device_id",i="session_id",l=()=>"9999"+(0,n.$C)(28),s=()=>Date.now().toString(),d=(null===(e=window)||void 0===e?void 0:e.amplitude)&&"function"==typeof(null===(t=window.amplitude)||void 0===t?void 0:t.getDeviceId);return{deviceId:(()=>{if(!d){let e=o.A.getItem(r)||"";return e||(e=l(),o.A.setItem(r,e)),e}let e=window.amplitude.getDeviceId();if(e)return e;let t=o.A.getItem(r)||"";return t||(t=l(),o.A.setItem(r,t)),window.amplitude.setDeviceId(t),t})(),sessionId:(()=>{var e;if(!d){let e=(0,a.Hd)(i)||"";return e||(e=s(),(0,a.J2)(i,e)),e}let t=null===(e=window.amplitude.getSessionId())||void 0===e?void 0:e.toString();if(t)return t;let r=s();return window.amplitude.setSessionId(r),r})()}},g=e=>{var t,r,n;if(!((null===(t=window)||void 0===t?void 0:t.amplitude)&&"function"==typeof(null===(r=window.amplitude)||void 0===r?void 0:r.setUserId)&&"function"==typeof(null===(n=window.amplitude)||void 0===n?void 0:n.getUserId)))return null;let i=window.amplitude.getUserId();return i||(e?(window.amplitude.setUserId(e),e):null)},_=async e=>{let t="deviceId"in e&&e.deviceId;try{let r;let n=await fetch("https://ream.immigrantinvest.com/collect/v1",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},keepalive:!0,body:JSON.stringify(e)}),i=n.clone(),o=await i.text();try{r=JSON.parse(o)}catch(e){r=o}if(!n.ok&&t){let t=s(null==r?void 0:r.error)||"HTTP error status: ".concat(n.status),i=Error(t);return c(i,{...e,responseStatus:n.status,errorDetails:r,errorType:"APIError"}),null}return r}catch(r){return t&&c(r,{...e,errorType:"NetworkError",errorMessage:s(r),responseStatus:r instanceof Error?void 0:500}),null}},p=async(e,t,r)=>{if(l.kX&&!(0,i.w2)())try{await u();let{deviceId:n,sessionId:i}=f(),o=g(null==e?void 0:e.userId),a=m(e),l={service:"amplitude",...e,userId:null!=o?o:e.userId,deviceId:n,sessionId:i,properties:a,sendDataToAmplitudeDevEnv:r};t&&console.log("Amplitude Event Payload:",l),window.dataLayer=window.dataLayer||[],window.dataLayer.push(l),await _(l)}catch(t){c(t,{...e,errorType:"UnhandledError",errorMessage:s(t)})}};async function w(e){let{name:t,quiz_page_type:r,additionalProperties:n}=e,i={deviceId:"",userId:null,name:t,properties:{quiz_page_type:r,quiz_name:window.location.pathname,...n}},o=h(JSON.stringify(i));if(!window.eventHashes||!window.eventHashes[o])return window.eventHashes=window.eventHashes||{},window.eventHashes[o]=!0,p(i,!0)}let v=async e=>{if(!l.kX)return;let{deviceId:t,sessionId:r}=f(),n={service:"amplitude",deviceId:t,sessionId:r,userId:null,name:"Form Submitted Error",properties:{error_type:e.error_type,error_fields:e.error_fields,error_status_code:e.error_status_code,form_client_segment:e.form_client_segment,form_ui_element:e.form_ui_element,form_id:e.form_id,form_type:e.form_type,form_name:e.form_name}};{window.dataLayer=window.dataLayer||[];let t={...n,error_fields:Array.isArray(e.error_fields)?e.error_fields.join(","):""};window.dataLayer.push(t)}await _(n)},h=e=>{let t=5381,r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);t=(t<<5)+t+i,r=i+(r<<6)+(r<<16)-r}return(Math.abs(t)^Math.abs(r)).toString(16)}},60785:(e,t,r)=>{r.d(t,{j0:()=>w,KQ:()=>o,xv:()=>S,W_:()=>A,V2:()=>u.getAnalyticsTrackingId,EI:()=>E,yy:()=>p,b1:()=>c,OF:()=>k,no:()=>v.getTimezoneName,Zn:()=>h.getTimezoneOffset,w2:()=>b,g1:()=>y.g});var n=r(98816),i=r(29859);let o=e=>{var t,r;let{action:o,properties:a={}}=e;if(!(0,i.R)())return;let l=window.location.pathname;if(window.rentaPageTracked=window.rentaPageTracked||{},null===(r=window)||void 0===r?void 0:null===(t=r.rentaPageTracked)||void 0===t?void 0:t[l])return;let s=()=>{try{window.renta.page(o,a),window.rentaPageTracked[l]=!0}catch(e){console.error("Error tracking page with renta:",e)}};window.renta?s():(0,n.k0)({src:"https://immigrantinvest.com/scripts/renta.js",id:"renta-backup",onLoad:()=>{window.rentaPageTracked[l]||s()}})};var a=r(95107),l=r(48749),s=r(23820),d=r(44352);let c=()=>{let e=d.A.getItem("_rid_anm_id");e||(e=(0,l.R)("_rid_anm_id")||null),e||(e="0000"+(0,a.$)(28));let t=(0,s.Q)(e);return null!==t?t:e};var u=r(91006),m=r(88230),f=r(77836);let g=()=>null,_=e=>e.ok?e.json():null,p=async()=>{let e=(0,n.Gl)((0,f.Hd)("ipInfo")||"");if(!e){let e=(0,m.c)(),t=await fetch("".concat(e,"/api/ip-info")).then(_).catch(g);return t?((0,f.J2)("ipInfo",JSON.stringify(t)),t):null}return e};class w{checkMethodAvailability(e){var t,r;return"renta"in window&&("track"===e?"function"==typeof(null===(t=window.renta)||void 0===t?void 0:t.track):"page"===e&&"function"==typeof(null===(r=window.renta)||void 0===r?void 0:r.page))}track(e,t){if(this.checkMethodAvailability("track"))try{window.renta.track(e,null!=t?t:{})}catch(e){console.error("Error in window.renta.track:",e)}}page(e,t){if(this.checkMethodAvailability("page"))try{window.renta.page(e,t)}catch(e){console.error("Error in window.renta.page:",e)}}}var v=r(47014),h=r(75882),y=r(78615);let b=()=>{let e=navigator.userAgent.toLowerCase();return["bot","spider","crawler","slurp","lighthouse","headless","phantom","selenium","puppeteer","chrome-lighthouse","googlebot","yandexbot","bingbot","baiduspider","duckduckbot","semrushbot"].some(t=>e.includes(t))},S=()=>{let e=e=>{let t=(0,l.R)(e)||null;return(0,s.Q)(t)},t={};return Object.entries({_rid_gclid_id:"gclid_lc",_rid_gbraid_id:"gbraid_lc",_rid_fbclid_id:"fbclid_lc",_rid_wbraid_id:"wbraid_lc",_rid_ttclid_id:"ttclid_lc",_rid_yclid_id:"yclid_lc",_rid_utm_source_id:"utm_source_lc",_rid_utm_medium_id:"utm_medium_lc",_rid_utm_campaign_id:"utm_campaign_lc",_rid_utm_content_id:"utm_content_lc",_rid_utm_term_id:"utm_term_lc"}).forEach(r=>{let[n,i]=r;t[i]=e(n)}),t},A=()=>{let e=new URLSearchParams(window.location.search),t=e=>(null==e?void 0:e.trim().replace(/%22/g,"").replace(/"/g,""))||null,r={};return["gclid","gbraid","fbclid","wbraid","ttclid","yclid","utm_source","utm_medium","utm_campaign","utm_content","utm_term","rdt_cid","initial_twclid","twclid","msclkid","dclid"].forEach(n=>{let i=e.get(n);r[n]=t(i)}),r},E=async()=>{let e=await p();return{ipcity:(null==e?void 0:e.ipCity)?decodeURIComponent(e.ipCity):"",ipcountry:null==e?void 0:e.ipCountry,ipCountryCode:null==e?void 0:e.ipCountryCode,ipCountryRegion:null==e?void 0:e.ipCountryRegion,fr_ip:null==e?void 0:e.realIp}},k=()=>{let e="",t="",r="",n="",i="",o="",a="",l="";if(function(){let e=navigator.userAgent;i=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|Opera Mini/i.test(e)?"mobile":"desktop"}(),"userAgentData"in navigator&&navigator.userAgentData&&"object"==typeof navigator.userAgentData){let i=navigator.userAgentData;if("platform"in i&&(e=i.platform),"brands"in i&&Array.isArray(i.brands)){let e=i.brands.find(e=>{var t,r,n;return(null===(t=e.brand)||void 0===t?void 0:t.includes("Chrome"))||(null===(r=e.brand)||void 0===r?void 0:r.includes("Edge"))||(null===(n=e.brand)||void 0===n?void 0:n.includes("Firefox"))});e&&(r=e.brand||"",n=e.version||"")}d(),c(),"getHighEntropyValues"in i&&"function"==typeof i.getHighEntropyValues?i.getHighEntropyValues(["platformVersion","model","architecture","bitness"]).then(e=>{(null==e?void 0:e.platformVersion)&&(t=e.platformVersion),(null==e?void 0:e.model)&&(a=e.model,o=e.model,s(a))}):(d(),c())}function s(e){let t=["Samsung","Apple","Google","Pixel","Huawei","Xiaomi","Sony","LG","Motorola","Nokia","OnePlus","ASUS","Lenovo","Dell","HP","Acer","Microsoft","Surface"].find(t=>e.toLowerCase().includes(t.toLowerCase()));t&&(l=t,"Pixel"===t&&(l="Google"))}function d(){let r=navigator.userAgent;if("Windows"===e||/Windows/.test(r)){let e=r.match(/Windows NT (\d+\.\d+)/);t=e?e[1]:""}else if("macOS"===e||/Macintosh|Mac OS X/.test(r)){let e=r.match(/Mac OS X (\d+[._]\d+[._]?\d*)/);t=e?e[1].replace(/_/g,"."):""}else if("Android"===e||/Android/.test(r)){let e=r.match(/Android (\d+\.\d+)/);t=e?e[1]:""}else if("iOS"===e||/iPhone|iPad|iPod/.test(r)){let e=r.match(/OS (\d+[._]\d+[._]?\d*)/);t=e?e[1].replace(/_/g,"."):""}}function c(){let e=navigator.userAgent;if("mobile"===i||"tablet"===i){if(/Android/.test(e)){let t=e.match(/; ([^;)]+) Build\//);t&&(o=a=t[1],s(a),l||(l=/Samsung|SM-|Galaxy/.test(e)?"Samsung":/Pixel|Google/.test(e)?"Google":/Huawei|HUAWEI/.test(e)?"Huawei":/Xiaomi|MI /.test(e)?"Xiaomi":/Sony|Xperia/.test(e)?"Sony":/LG|LG-/.test(e)?"LG":/Motorola|Moto /.test(e)?"Motorola":/Nokia/.test(e)?"Nokia":/OnePlus/.test(e)?"OnePlus":"Unknown Android"))}else/iPhone|iPad|iPod/.test(e)&&(/iPhone/.test(e)?(o="iPhone",a=/iPhone1[0-4]/.test(e)?"iPhone X or newer":/iPhone[7-9]/.test(e)?"iPhone 6-8 series":"iPhone"):/iPad/.test(e)?(o="iPad",a="iPad"):/iPod/.test(e)&&(o="iPod",a="iPod"))}else/Windows/.test(e)?(o="PC",a="Windows PC",l="PC"):/Macintosh|Mac OS X/.test(e)?(o="Mac",a="Apple Mac",l="Apple"):/Linux/.test(e)?(o="PC",a="Linux PC",l="PC"):(o="PC",a="Unknown PC",l="Unknown")}return{device_os_name:e,device_os_version:t,device_browser_name:r,device_browser_version:n,device_type:i,device_marketing_name:o,device_model:a,device_vendor:l}}},65255:(e,t,r)=>{r.d(t,{J:()=>a});var n=r(65463),i=r(931),o=r(20101);let a=async(e,t)=>{let r=await (0,i.C)(t),{Storyblok:a}=(0,o.o)(r.version===n.EI.DRAFT,"server");return a.get(e,r)}},75882:(e,t,r)=>{r.d(t,{getTimezoneOffset:()=>n});let n=()=>{let e=new Date().getTimezoneOffset(),t=Math.abs(e),r=Math.floor(t/60).toString().padStart(2,"0"),n=(t%60).toString().padStart(2,"0");return"GMT".concat(e>0?"-":"+").concat(r,":").concat(n)}},77836:(e,t,r)=>{r.d(t,{Hd:()=>i,J2:()=>n,YA:()=>o});let n=(e,t)=>{try{window.sessionStorage&&window.sessionStorage.setItem(e,t)}catch(t){console.error("Failed to set sessionStorage item ".concat(e,":"),t)}},i=e=>{try{if(window.sessionStorage)return window.sessionStorage.getItem(e)}catch(t){console.error("Failed to get sessionStorage item ".concat(e,":"),t)}return null},o=()=>{let e="monoimin_session_started_at",t=i(e);return t||n(e,t=new Date().toISOString()),t}},78615:(e,t,r)=>{r.d(t,{g:()=>n});function n(e){return"America/Ciudad_Juarez"===e?"America/Hermosillo":e}},80214:(e,t,r)=>{r.d(t,{Y:()=>n});let n={"Form loaded but invisible":"waiting","Form visible":"waiting","Name field interaction":"waiting","Email field interaction":"waiting","Phone field interaction":"waiting","Check interaction":"waiting","Dropdown interaction":"waiting","Check privacy policy":"waiting","Click on submit button":"waiting","Form submitted success":"waiting","Form submitted failed":"waiting","Email validation error":"waiting","Form field interactions updated":"waiting","File upload failed":"waiting"}},86101:(e,t,r)=>{r.d(t,{Tr:()=>H,an:()=>D,BL:()=>o,DE:()=>y,Ub:()=>i,cu:()=>b,LY:()=>h,OZ:()=>F,GP:()=>E,G3:()=>w,GX:()=>I,Oj:()=>g});var n=r(7620);function i(e){let t=()=>window.matchMedia(e).matches;return(0,n.useSyncExternalStore)(t=>{let r=window.matchMedia(e),n=()=>t();return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},t,t)}function o(e,t){let{threshold:r=0,root:i=null,rootMargin:o="0%",freezeOnceVisible:a=!1}=t,[l,s]=(0,n.useState)(),d=(null==l?void 0:l.isIntersecting)&&a,c=e=>{let[t]=e;s(t)};return(0,n.useEffect)(()=>{let t=null==e?void 0:e.current;if(!window.IntersectionObserver||d||!t)return;let n=new IntersectionObserver(c,{threshold:r,root:i,rootMargin:o});return n.observe(t),()=>n.disconnect()},[null==e?void 0:e.current,r,i,o,d]),l}class a extends Error{constructor(e){super("[snap-slider]: ".concat(e))}}let l=(e,t)=>{let r=s(e);if(!t)return r;let n=s(t);return{left:r.left-n.left,top:r.top-n.top,right:r.right-n.left,bottom:r.bottom-n.top,width:r.width,height:r.height}},s=e=>{let t=e.getBoundingClientRect(),r=0,n=0,i=e.parentElement;for(;i;)r+=i.scrollLeft,n+=i.scrollTop,i=i.parentElement;let o=t.left+r,a=t.top+n;return{left:o,top:a,right:o+t.width,bottom:a+t.height,width:t.width,height:t.height}},d=(e,t)=>{if(!e)throw new a("Element is null or undefined");if(!(e instanceof Element))throw new a("Parameter is not of type Element");let r=window.getComputedStyle(e).getPropertyValue("scroll-padding-".concat(t));if("auto"===r)return 0;let n="Unsupported scroll padding value, expected <length> or <percentage> value, received ".concat(r);if(r.endsWith("px")){let e=parseInt(r);return m(!Number.isNaN(e),n),e}if(r.endsWith("%")){let t=parseInt(r);return m(!Number.isNaN(t),n),e.clientWidth/100*t}throw new a(n)},c=(e,t)=>{if(!e)throw new a("Element is null or undefined");if(!(e instanceof Element))throw new a("Parameter is not of type Element");let r=window.getComputedStyle(e).getPropertyValue("scroll-margin-".concat(t)),n="Unsupported scroll margin value, expected <length> value, received ".concat(r);m(r.endsWith("px"),n);let i=parseInt(r);return m(!Number.isNaN(i),n),i},u=(e,t,r)=>{let n=d(e,r);return Math.min(n+c(t,r),l(t,t.parentElement)[r])};function m(e,t){if(!e)throw console.log("Assert error",t),new a(t)}let f="undefined"!=typeof document?n.useLayoutEffect:n.useEffect,g=function(){let{axis:e="x",initialPages:t=[],initialIndex:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="x"===e,o=i?"width":"height",a=i?"scrollWidth":"scrollHeight",s=i?"clientWidth":"clientHeight",d=i?"left":"top",c=i?"right":"bottom",g=i?"scrollLeft":"scrollTop",[_,p]=(0,n.useState)(null),[{pages:w,activePageIndex:v},h]=(0,n.useState)({pages:t,activePageIndex:r}),y=(0,n.useCallback)(e=>{if(!_)return;if(Math.floor(_[a]-_[g])<=_[s]){h({pages:e,activePageIndex:e.length-1});return}let t=Array.from(_.children),r=_.getBoundingClientRect(),n=e.map(e=>{let n=t[e[0]];m(n instanceof HTMLElement,"Expected HTMLElement");let i=u(_,n,d);return Math.abs(n.getBoundingClientRect()[d]-r[d]-i)}),i=Math.min(...n);h({pages:e,activePageIndex:n.indexOf(i)})},[_,s,d,a,g]),b=(0,n.useCallback)(()=>{let e;if(!_)return;let t=Array.from(_.children),r=_.getBoundingClientRect();y(t.reduce((t,n,i)=>{m(n instanceof HTMLElement,"Expected HTMLElement");let a=t[t.length-1],s=l(n,n.parentElement);if(!a||s[c]-e>Math.ceil(r[o])){t.push([i]);let r=u(_,n,d);e=s[d]-r}else a.push(i);return t},[]))},[y,_,o,c,d]);f(()=>{b()},[b]),f(()=>{if(!_||!w.length){console.warn("Missing scrollEl or pages array, skipping scroll adjustment");return}let e=w[r];if(!e){console.warn("No page found at index ".concat(r,", skipping scroll adjustment"));return}let t=Array.from(_.children),n=e[0],i=t[n];if(!i){console.warn("No element found at leadIndex ".concat(n,", skipping scroll adjustment"));return}if(!(i instanceof HTMLElement)){console.warn("leadEl is not an HTMLElement, skipping scroll adjustment");return}let o=u(_,i,d);_.scrollTo({behavior:"auto",[d]:l(i,i.parentElement)[d]-o})},[_,w,r,d]),(0,n.useEffect)(()=>(window.addEventListener("resize",b),window.addEventListener("orientationchange",b),()=>{window.removeEventListener("resize",b),window.removeEventListener("orientationchange",b)}),[b]),(0,n.useEffect)(()=>{if(!_)return;let e=()=>{y(w)};return _.addEventListener("scroll",e),()=>{_.removeEventListener("scroll",e)}},[y,w,_]);let S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";if(!_)return;let r=w[e];if(!r)return;let n=Array.from(_.children)[r[0]];if(!(n instanceof HTMLElement))return;let i=u(_,n,d);_.scrollTo({behavior:t,[d]:l(n,n.parentElement)[d]-i})},A=(0,n.useMemo)(()=>new Set(w.map(e=>e[0])),[w]);return{prev:()=>{S(v-1)},next:()=>{S(v+1)},goTo:S,refresh:b,pages:w,activePageIndex:v,snapPointIndexes:A,scrollRef:p,scrollEl:_}},_=()=>window.scrollY/document.body.scrollHeight*100,p=e=>{let t=Number(e.replace("%",""));return!function(e){return"number"==typeof e&&!Number.isNaN(e)}(t)?0:t},w=e=>{let{start:t,freeze:r,debounceDelay:i=50}=e,[o,a]=(0,n.useState)(!1),l=(0,n.useCallback)(()=>{if(r&&o)return;let e="number"==typeof t?window.scrollY>t:_()>=p(t);e!==o&&a(e)},[r,o,t]),s=function(e,t){let r=(0,n.useRef)(null),i=(0,n.useCallback)(function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{e(...i)},t)},[e,t]);return(0,n.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),i}(l,i);return(0,n.useEffect)(()=>(l(),window.addEventListener("scroll",s,{passive:!0}),()=>{window.removeEventListener("scroll",s)}),[s,l]),o};var v=r(62942);function h(e){let{isNative:t}=e||{},r=(0,v.useRouter)(),i=(0,v.usePathname)(),o=(0,v.useSearchParams)();return{onChange:(0,n.useCallback)((e,n)=>{let a=new URLSearchParams(null==o?void 0:o.toString());Object.entries(e).forEach(e=>{let[t,r]=e;if(!r)return a.delete(t);if(Array.isArray(r)){a.delete(t),r.forEach(e=>{a.append(t,String(e))});return}a.set(t,String(r))});let l=(n||i)+"?"+a.toString();t?window.history.replaceState(null,"",l):r.push(l,{scroll:!1})},[r,i,o,t]),searchParams:o}}function y(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),e}let b=e=>{let{gap:t=0}=e,r=(0,n.useRef)(null),[i,o]=(0,n.useState)(!1),[a,l]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{if(r.current){let e=window.scrollY,n=r.current.offsetHeight,i=r.current.offsetTop;o(e>i-t),l(e>i+n)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[t]),{ref:r,isReached:i,isPassed:a}};var S=r(98816),A=r(7329);let E=e=>{let{defaultPhoneCountry:t}=e,[r,i]=(0,n.useState)(""),[o,a]=(0,n.useState)(""),[l,s]=(0,n.useState)(!1),d=(0,n.useCallback)(async e=>{var r;let n=(0,S.IF)(e.target.value);n&&"+"!==n||a("");let o=new A.Q({defaultCountry:null==t?void 0:t.countryCode,defaultCallingCode:null==t?void 0:t.callingCode}),l=o.input(n),d=null===(r=o.getNumber())||void 0===r?void 0:r.country,c=o.isPossible();d&&a(d),i(l),s(c)},[r,i,a]);return{phone:r,isValid:l,setPhone:i,phoneCountryCode:o,setPhoneCountryCode:a,handlePhoneChange:d}};var k=r(44352);let I=e=>{let{closedStorageKey:t,preventOpeningStorageKey:r,expiration:i}=e,[o,a]=(0,n.useState)(()=>{let e=Number(k.A.getItem(t))||0,n="true"===k.A.getItem(r),o=Date.now()-i<e;return!(n||o)});return{show:o,setShow:a,onClose:()=>{k.A.setItem(t,Date.now().toString()),a(!1)},onPreventOpen:()=>{k.A.setItem(r,"true")}}};var P=r(48879),C=r(60785),O=r(5266),T=r(3446),L=r(77836),N=r(80214),M=r(92266),j=r(49432);let x={...N.Y},H="Form submitted success",D=e=>{let{ref:t,formTitle:r,locale:i,formValues:a,analyticsData:l,fieldInteractions:s}=e,[d,c]=(0,n.useState)(x),u=(0,n.useRef)(null),m=o(t,{rootMargin:"-65px 0px 0px 0px"}),f=!!(null==m?void 0:m.isIntersecting),g=e=>{let t=u.current,r=["form_mtg_type","user_email","user_name","form_meeting_manager","form_question","form_meeting_platform","form_user_goal","form_meeting_time","form_meeting_date","form_meeting_location","form_user_client_segment","form_action","page_submission_flag","form_fields_errors_count","form_fields_filled_count","form_fields_interactions"];if(!t)return u.current=Object.fromEntries(r.map(t=>[t,e[t]])),!0;for(let a of r)if(Object.prototype.hasOwnProperty.call(e,a)&&Object.prototype.hasOwnProperty.call(t,a)){if("form_fields_interactions"===a){var n,i,o;if((null===(n=e[a])||void 0===n?void 0:n.length)!==(null===(i=t[a])||void 0===i?void 0:i.length))return u.current=Object.fromEntries(r.map(t=>[t,e[t]])),!0;for(let n=0;n<(null===(o=e[a])||void 0===o?void 0:o.length);n++){let i=e[a][n],o=t[a][n];if(i.form_field_error_flag!==o.form_field_error_flag||i.form_field_length!==o.form_field_length||i.form_field_name!==o.form_field_name||i.form_field_focus_flag!==o.form_field_focus_flag)return u.current=Object.fromEntries(r.map(t=>[t,e[t]])),!0}}else if(JSON.stringify(e[a])!==JSON.stringify(t[a]))return u.current=Object.fromEntries(r.map(t=>[t,e[t]])),!0}return!1},_=(0,n.useCallback)(async(e,t)=>{if(!e)return;let n=e.includes("failed")||e.includes("error");if("waiting"===d[e]){let u={...d};c({...u,[e]:"pending"});let m=await (0,C.EI)(),f=(0,C.V2)()||"",{deviceId:_,sessionId:p}=(0,O.N)(),{region:w}=await (0,M.T)({pageCountry:null==l?void 0:l.pageCountry}),v=new Date,h={form_mtg_type:a.form_mtg_type||"",device_city_ip:m.ipcity,device_country_ip:m.ipcountry,device_ga_cookie_id:f,partner_comment:a.partner_comment||"",user_questions:a.user_questions||"",device_id:_,page_previous_url:document.referrer||"",session_started_at:(0,L.YA)(),program_region:Array.isArray(w)?w.join(","):w||"",page_previous_title:"",page_title:document.title||"",page_url:window.location.href,event_id:(0,T.l)("form",{formId:null==l?void 0:l.formId,action:e,timestamp:v.toISOString()}),program_url:"",event_datetime:v.toISOString(),device_timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"",program_name:a.program_name||"",program_flag:null==l?void 0:l.programRelation,event_date:v.toISOString().split("T")[0],session_id:p,page_type:a.sf_lead_f_type||"",site_hostname:window.location.hostname,page_location:window.location.href,page_path:window.location.pathname,device_datetime:v.toISOString(),form_fields_interactions:s,form_fields_errors_count:null==s?void 0:s.filter(e=>1===e.form_field_error_flag).length,program_status:null==l?void 0:l.programStatus,form_fields_filled_count:null==s?void 0:s.filter(e=>e.form_field_length>0).length,form_action:e,form_meeting_manager:a.form_meeting_manager||"",form_question:a.form_question||"",form_meeting_platform:a.form_meeting_platform||"",form_user_goal:a.form_user_goal||"",form_meeting_time:a.form_meeting_time||"",form_meeting_date:a.form_meeting_date||"",form_meeting_location:a.form_meeting_location||"",form_id:null==l?void 0:l.formId,form_user_client_segment:a.form_user_client_segment||"",form_ui_element:(null==l?void 0:l.formUiElement)||"",form_name:r,form_type:null==l?void 0:l.formType,page_submission_flag:e===H,page_language:i,event_type:"form_interaction",site_domain:window.location.hostname},y=n||g(h);window.dataLayer=window.dataLayer||[];let b=Object.fromEntries(Object.entries(h).map(e=>{let[t,r]=e;return""===r?[t,null]:[t,r]}));if(await (0,j.vA)({deviceId:_,userId:null,name:"Form interactive",properties:{...b,form_event:e,form_language:i,form_title:r}},!1,!0),y){var o;(null===(o=window.renta)||void 0===o?void 0:o.track)?window.renta.track("Form interactive",h):setTimeout(()=>{var e;return null===(e=window.renta)||void 0===e?void 0:e.track("Form interactive",h)},1e3);let n={...Object.fromEntries(Object.entries(h).map(e=>{let[t,r]=e;return""===r?[t,null]:[t,r]})),event:"form_interaction",form_fields_interactions:JSON.stringify(h.form_fields_interactions)};window.dataLayer.push(n);let l=Object.entries(a).reduce((e,t)=>{let[r,n]=t;return n?{...e,[r]:String(n)}:e},{}),s=await (0,P.l4)({userAction:e,locale:i,rentaResponse:t,formId:a.fr_form_id,formTitle:r,filteredFormValues:l,formLogData:h});c({...u,[e]:(null==s?void 0:s.requestId)?"complete":"error"})}}},[d,r,i,a,s]);return(0,n.useEffect)(()=>{"waiting"===d["Form loaded but invisible"]&&_("Form loaded but invisible")},[_,d]),(0,n.useEffect)(()=>{f&&"waiting"===d["Form visible"]&&_("Form visible")},[f,_,d]),{formEvents:d,onFormLog:_}};var R=r(20942),U=r(51450);let F=(e,t)=>{let r=(0,n.useRef)(""),i=(0,n.useRef)(new Map),o=(0,n.useRef)([]);0===o.current.length&&(o.current=(0,R.X)());let a=(0,n.useCallback)(()=>{if(i.current.size>100){let e=Array.from(i.current.entries()).slice(-50);i.current.clear(),e.forEach(e=>{let[t,r]=e;i.current.set(t,r)})}},[]),l=(e,t)=>{try{fetch("/api/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timestamp:new Date().toISOString(),level:"info",message:e,attributes:{component:"usePhoneAutofillEnhancer",...t}})}).catch(()=>{})}catch(e){}},s=(0,n.useCallback)(e=>{let t=e.replace(/\D/g,"").length,r=["RU","US","TR","GB","UA","DE","IN","NL","CA","BY","AE","PL","KZ","ES","FR","AU","BE","PT","IL","PK"],n=[];if(t>=10&&t<=11?n=r.slice(0,10):t>=7&&t<=9?n=["GB","DE","FR","ES","NL","BE","PT"]:t>=12&&(n=["IN","PK","AE"]),n.length<5&&(n=Array.from(new Set(n.concat(r)))),0===n.length){let e=o.current.filter(e=>!r.includes(e));n=r.concat(e)}return n},[]),d=(0,n.useCallback)(e=>{if(!e||e.startsWith("+"))return null;let t=i.current.get(e);if(void 0!==t)return t;a();try{try{let t=(0,U.L)(e);if(null==t?void 0:t.isValid()){let r="+"+t.countryCallingCode;return i.current.set(e,r),r}}catch(e){}for(let t of s(e))try{let r=(0,U.L)(e,t);if(null==r?void 0:r.isValid()){let t="+"+r.countryCallingCode;return i.current.set(e,t),t}}catch(e){continue}i.current.set(e,null)}catch(t){l("Phone Autofill Enhancement Error",{error_type:"country_detection_failure",phone_input:(null==e?void 0:e.substring(0,3))+"***",error_message:t instanceof Error?t.message:"Unknown error",user_agent:navigator.userAgent}),i.current.set(e,null)}return null},[s,l,a]),c=(0,n.useCallback)(n=>{let i=n.target,o=i.value,a=r.current,s=o.replace(/\D/g,"");if(o!==a&&!o.startsWith("+")&&s.length>=7&&s.length<=15&&/^\d/.test(o)){let r=d(o),n=e(),a=r||n;if(a&&"+"!==a){let e=a+" "+o;i.value=e,i.dispatchEvent(new Event("change",{bubbles:!0})),null==t||t(e),console.log("[Phone Autofill Enhancer] Enhanced phone:",o,"->",e),r&&r!==n&&(console.log("[Phone Autofill Enhancer] VPN detected - used phone-based country code:",r),l("Phone Autofill VPN Detection",{selected_country_code:n,detected_country_code:r,phone_pattern:o,user_agent:navigator.userAgent}))}}r.current=i.value},[e,t,d,l]),u=(0,n.useCallback)(r=>{let n=r.target,i=n.value;if(i&&!i.startsWith("+")&&/^\d/.test(i)){let r=d(i),o=e(),a=r||o;if(a&&"+"!==a){let e=a+" "+i;n.value=e,n.dispatchEvent(new Event("change",{bubbles:!0})),null==t||t(e),console.log("[Phone Autofill Enhancer] Blur-enhanced phone:",i,"->",e)}}},[e,t,d]);return{setupRef:(0,n.useCallback)(e=>{if(e&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e.addEventListener("input",c),e.addEventListener("blur",u),()=>{e.removeEventListener("input",c),e.removeEventListener("blur",u)}},[c,u])}}},91006:(e,t,r)=>{r.d(t,{getAnalyticsTrackingId:()=>i});var n=r(48749);let i=()=>{try{var e;return(null===(e=window.gaGlobal)||void 0===e?void 0:e.vid)||(0,n.R)("_ga")||null}catch(e){return null}}},92266:(e,t,r)=>{r.d(t,{T:()=>d});var n=r(17149),i=r(7620),o=r(65255),a=r(65463);let l=(0,i.cache)(async()=>{try{let{data:{datasource_entries:e}}=await (0,o.J)("cdn/datasource_entries",{datasource:"project-passport-ratings-constants",version:"published",token:a.T9.client.api}),t=e.find(e=>"REGIONS_COUNTRIES"===e.name);if(t)return JSON.parse(t.value);return null}catch(e){return console.error("Failed to fetch regions data:",e),null}}),s=async e=>{if(!e)return"";let t=Array.isArray(e)?e:[String(e)],r=await l();if(!r)return"";let n=Object.entries(r);return Array.from(t.reduce((e,t)=>{let r=n.find(e=>{let[,r]=e;return r.includes(String(t))}),i=r?r[0]:void 0;return i?e.add(i):e},new Set))},d=async e=>{let t=(null==e?void 0:e.country)||(null==e?void 0:e.pageCountry);return{country:Array.isArray(t)&&1===t.length&&"none"===t[0]?void 0:(0,n.e)(t),region:await s(t)}}}}]);
//# sourceMappingURL=6101-71a6f214b319c00d.js.map